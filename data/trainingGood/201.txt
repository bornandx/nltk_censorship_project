b'\r\n\r\n\r\n\r\n\r\nhtml - Determine a User 's Timezone - Stack Overflow\r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n \r\n \r\n \r\n \r\n \r\n\r\n \r\n \r\n \r\n \r\n \r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n StackExchange.ready ( function ( ) { \r\n \r\n StackExchange.using ( `` snippets '' , function ( ) { \r\n StackExchange.snippets.initSnippetRenderer ( ) ; \r\n } ) ; \r\n \r\n\r\n StackExchange.using ( `` postValidation '' , function ( ) { \r\n StackExchange.postValidation.initOnBlurAndSubmit ( $ ( \ ' # post-form\ ' ) , 2 , \'answer\ ' ) ; \r\n } ) ; \r\n\r\n \r\n StackExchange.question.init ( { showAnswerHelp : true , totalCommentCount:3 , shownCommentCount:3 , highlightColor : \ ' # F4A83D\ ' , backgroundColor : \ ' # FFF\ ' , questionId:13 } ) ; \r\n\r\n styleCode ( ) ; \r\n\r\n StackExchange.realtime.subscribeToQuestion ( \'1\ ' , \'13\ ' ) ; \r\n StackExchange.using ( `` gps '' , function ( ) { StackExchange.gps.trackOutboundClicks ( \ ' # content\ ' , \'.post-text\ ' , true ) ; } ) ; \r\n\r\n } ) ; \r\n \r\n\r\n\r\n \r\n StackExchange.init ( { `` locale '' : '' en '' , '' stackAuthUrl '' : '' https : //stackauth.com '' , '' networkMetaHostname '' : '' meta.stackexchange.com '' , '' serverTime '' :1481386966 , '' routeName '' : '' Questions/Show '' , '' site '' : { `` name '' : '' Stack Overflow '' , '' description '' : '' Q & A for professional and enthusiast programmers '' , '' isNoticesTabEnabled '' : true , '' recaptchaPublicKey '' : '' 6LdchgIAAAAAAJwGpIzRQSOFaO0pU6s44Xt8aTwc '' , '' recaptchaAudioLang '' : '' en '' , '' enableNewTagCreationWarning '' : true , '' insertSpaceAfterNameTabCompletion '' : false , '' id '' :1 , '' enableInsertDocLinkDialog '' : true , '' enableSocialMediaInSharePopup '' : true } , '' user '' : { `` fkey '' : '' 7b1b7f4e1a6b23324556540c1e6d03a0 '' , '' rep '' :0 , '' isAnonymous '' : true , '' isAnonymousNetworkWide '' : true } , '' events '' : { `` postType '' : { `` question '' :1 } , '' postEditionSection '' : { `` title '' :1 , '' body '' :2 , '' tags '' :3 } } , '' story '' : { `` minCompleteBodyLength '' :75 } } , { `` site '' : { `` allowImageUploads '' : true , '' enableUserHovercards '' : true , '' styleCode '' : true , '' enableNewLinkInsertDialog '' : true , '' enableNewHeaderDesign '' : true , '' enableImgurHttps '' : true } , '' comments '' : { } , '' tags '' : { } , '' accounts '' : { `` currentPasswordRequiredForChangingStackIdPassword '' : true } , '' flags '' : { `` allowRetractingFlags '' : true } , '' analytics '' : { `` clientTimingsAbsoluteTimeout '' :30000 , '' clientTimingsDebounceTimeout '' :1000 } , '' snippets '' : { `` snippetsEnabled '' : true , '' renderDomain '' : '' stacksnippets.net '' } , '' markdown '' : { `` asteriskIntraWordEmphasis '' : true } } ) ; \r\n StackExchange.using.setCacheBreakers ( { `` js/prettify-full.en.js '' : '' 06d67193cff4 '' , '' js/moderator.en.js '' : '' 1bdc231dc7f5 '' , '' js/full-anon.en.js '' : '' 49075288bf9b '' , '' js/full.en.js '' : '' 53dd47f49d45 '' , '' js/wmd.en.js '' : '' 1966ce920971 '' , '' js/third-party/jquery.autocomplete.min.js '' : '' e5f01e97f7c3 '' , '' js/third-party/jquery.autocomplete.min.en.js '' : '' '' , '' js/mobile.en.js '' : '' 3c7426a1302d '' , '' js/help.en.js '' : '' 12aebc9f0272 '' , '' js/tageditor.en.js '' : '' 820420283947 '' , '' js/tageditornew.en.js '' : '' 8b70577d4cf5 '' , '' js/inline-tag-editing.en.js '' : '' 2ddfa79492e7 '' , '' js/revisions.en.js '' : '' f4d14ad9db6c '' , '' js/review.en.js '' : '' 45ded0b70a10 '' , '' js/tagsuggestions.en.js '' : '' d1ff9b84abe5 '' , '' js/post-validation.en.js '' : '' 38ab6ae8a4a3 '' , '' js/explore-qlist.en.js '' : '' e71f14781288 '' , '' js/events.en.js '' : '' e449ebf70756 '' , '' js/keyboard-shortcuts.en.js '' : '' 4d22dd1bfd37 '' , '' js/external-editor.en.js '' : '' 5441bf1fb1b5 '' , '' js/external-editor.en.js '' : '' 5441bf1fb1b5 '' , '' js/snippet-javascript.en.js '' : '' 07c320a2d73c '' , '' js/snippet-javascript-codemirror.en.js '' : '' aa028aaeae06 '' } ) ; \r\n StackExchange.using ( `` gps '' , function ( ) { \r\n StackExchange.gps.init ( true ) ; \r\n } ) ; \r\n \r\n \r\n \r\n StackExchange.ready ( function ( ) { \r\n $ ( \ ' # nav-tour\ ' ) .click ( function ( ) { \r\n StackExchange.using ( `` gps '' , function ( ) { \r\n StackExchange.gps.track ( `` aboutpage.click '' , { aboutclick_location : `` headermain '' } , true ) ; \r\n } ) ; \r\n } ) ; \r\n } ) ; \r\n \r\n\r\n\r\n \r\n ( function ( ) { var old = $ .fn.contents ; $ .fn.contents = function ( ) { try { return old.apply ( this , arguments ) ; } catch ( e ) { return $ ( [ ] ) ; } } } ) ( ) \r\n \r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n \r\n\r\n\r\n \r\n \r\n current community\r\n \r\n \r\n \r\n \r\n \r\n \r\n chat\r\n \r\n\r\n\r\n\r\n\r\n \r\n \r\n Stack Overflow\r\n \r\n\r\n \r\n \r\n \r\n \r\n \r\n\r\n \r\n\r\n\r\n\r\n \r\n \r\n Meta Stack Overflow\r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\nyour communities \r\n\r\n \r\n \r\n\r\n \r\nSign up or log in to customize your list.\r\n \r\n \r\n\r\n \r\n more stack exchange communities\r\n \r\n company blog\r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n \r\n \r\n Stack Exchange\r\n \r\n\r\n \r\n Inbox\r\n \r\n \r\n \r\n Reputation and Badges\r\n \r\n \r\n \r\n \r\n \r\n\r\n \r\n\r\n \r\n \r\n sign up\r\n log in\r\n\r\n tour\r\n \r\n help\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Tour\r\n \r\n Start here for a quick overview of the site\r\n \r\n \r\n \r\n \r\n \r\n Help Center\r\n \r\n Detailed answers to any questions you might have\r\n \r\n \r\n \r\n \r\n \r\n Meta\r\n \r\n Discuss the workings and policies of this site\r\n \r\n \r\n \r\n \r\n \r\n About Us\r\n \r\n Learn more about Stack Overflow the company\r\n \r\n \r\n \r\n \r\n \r\n Business\r\n \r\n Learn more about hiring developers or posting ads with us\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n \r\n \r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n StackExchange.ready ( function ( ) { StackExchange.topbar.init ( ) ; } ) ; \r\n \r\n\r\n \r\n \r\n \r\n \r\n \r\n Stack Overflow\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Questions\r\n \r\n \r\n\r\n \r\n \r\n Jobs\r\n \r\n \r\n \r\n \r\n Documentation\r\n \r\n \r\n \r\n \r\n Tags\r\n \r\n \r\n\r\n \r\n \r\n Users\r\n \r\n \r\n\r\n \r\n \r\n Badges\r\n \r\n \r\n\r\n \r\n \r\n \r\n \r\n \r\n Ask Question\r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n x Dismiss\r\n \r\n \r\n Join the Stack Overflow Community\r\n \r\n \r\n Stack Overflow is a community of 6.4 million programmers , just like you , helping each other.\r\n \r\nJoin them ; it only takes a minute : \r\n \r\n Sign up\r\n \r\n \r\n\r\n StackExchange.ready ( function ( ) { \r\n\r\n var location = 0 ; \r\n if ( $ ( `` body '' ) .hasClass ( `` questions-page '' ) ) { \r\n location = 1 ; ; \r\n } else if ( $ ( `` body '' ) .hasClass ( `` question-page '' ) ) { \r\n location = 1 ; ; \r\n } else if ( $ ( `` body '' ) .hasClass ( `` faq-page '' ) ) { \r\n location = 5 ; ; \r\n } else if ( $ ( `` body '' ) .hasClass ( `` home-page '' ) ) { \r\n location = 3 ; ; \r\n } \r\n\r\n $ ( \ ' # tell-me-more\ ' ) .click ( function ( ) { \r\n StackExchange.using ( `` gps '' , function ( ) { \r\n StackExchange.gps.track ( `` hero.action '' , { hero_action_type : \'cta\ ' , location : location } , true ) ; \r\n } ) ; \r\n } ) ; \r\n $ ( \ ' # herobox # close\ ' ) .click ( function ( ) { \r\n StackExchange.using ( `` gps '' , function ( ) { \r\n StackExchange.gps.track ( `` hero.action '' , { hero_action_type : `` minimize '' , location : location } , true ) ; \r\n } ) ; \r\n $ .cookie ( `` hero '' , `` mini '' , { path : `` / '' , expires : 365 } ) ; \r\n $ .ajax ( { \r\n url : `` /hero-mini '' , \r\n success : function ( data ) { \r\n $ ( `` # herobox '' ) .fadeOut ( `` fast '' , function ( ) { \r\n $ ( `` # herobox '' ) .replaceWith ( data ) ; \r\n $ ( `` # herobox-mini '' ) .fadeIn ( `` fast '' ) ; \r\n } ) ; \r\n } \r\n } ) ; \r\n return false ; \r\n } ) ; \r\n } ) ; \r\n\r\n\t\t\t\r\n Determine a User 's Timezone\r\n\t\t\r\n\t\t\t\r\n\r\n\t\t\t\r\n\r\n\r\n\r\n \r\n var ados = ados || { } ; ados.run = ados.run || [ ] ; \r\n ados.run.push ( function ( ) { ados_add_placement ( 22,8277 , '' adzerk2036260817 '' ,4 ) .setZone ( 43 ) ; } ) ; \r\n \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 440\r\n down vote\r\n\r\n favorite\r\n 120\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n \r\n\r\nIs there any standard way for a Web Server to be able to determine a user\ 's timezone within a web page ? Perhaps from a HTTP header or part of the user-agent string ? \n \r\n \r\n html browser timezone timezoneoffset \r\n \r\n \r\n \r\n \r\nshare|improve this question \r\n \r\n \r\n\r\n \r\n edited Nov 29 at 2:17\r\n \r\n \r\n \r\n \r\n \r\n Hack-R\r\n \r\n 9,72841859\r\n \r\n \r\n \r\n \r\n \r\n \r\n asked Aug 1 \'08 at 0:42\r\n \r\n \r\n \r\n \r\n \r\n Kevin Dente\r\n \r\n 11.5k73444\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n 4\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Ask the user . If you get the time zone from the user 's computer , and it is set wrong , then what ? \r\n – Rob Williams\r\n Dec 2 \'08 at 0:51\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 16\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Then the user probably does n't care ? \r\n – agnoster\r\n Nov 11 \'10 at 8:48\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 21\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n You might consider making John Isaacks 's the correct answer ... His solution is a lot simpler , to put it lightly.\r\n – catphive\r\n Apr 8 \'11 at 20:49\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n\t\t\t\r\n\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t24 Answers\r\n 24\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n \r\n active\r\n \r\n oldest\r\n \r\n votes\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t \r\n\t\t\t\t \r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n -45\r\n down vote\r\n\r\n\r\n\r\n accepted\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\ntimezone.js : \n\nfunction ajaxpage ( ) { \n var url = `` timezone.php '' ; \n var visitortime = new Date ( ) ; \n var time = visitortime.getTimezoneOffset ( ) /60 ; \n var page_request = false ; \n\n if ( window.XMLHttpRequest ) { \n page_request = new XMLHttpRequest ( ) ; \n } \n else if ( window.ActiveXObject ) { \n try { \n page_request = new ActiveXObject ( `` Msxml2.XMLHTTP '' ) ; \n } \n catch ( e ) { \n try { \n page_request = new ActiveXObject ( `` Microsoft.XMLHTTP '' ) ; \n } \n catch ( e ) { \n } \n } \n } \n else { \n return false ; \n } \n\n page_request.onreadystatechange = function ( ) { \n loadpage ( page_request , containerid ) ; \n } \n\n if ( bustcachevar ) { \n bustcacheparameter= ( url.indexOf ( `` ? `` ) ! =-1 ) ? `` & '' +new Date ( ) .getTime ( ) : `` ? `` +new Date ( ) .getTime ( ) ; \n } \n\n page_request.open ( \'GET\ ' , url+bustcacheparameter+ '' & time= '' +time , true ) ; \n page_request.send ( null ) ; \n } \n\nfunction loadpage ( page_request , containerid ) { \n if ( page_request.readyState == 4 & & ( page_request.status==200 || window.location.href.indexOf ( `` http '' ) ==-1 ) ) { \n document.write ( \ ' < meta http-equiv= '' refresh '' content= '' 0 ; url=http : //example.com/ '' / > \ ' ) ; \n } \n } \n\n\n\n\ntimezone.php : \n\n < ? php\nsession_start ( ) ; \n $ _SESSION [ \'time\ ' ] = $ _GET [ \'time\ ' ] ; \n ? > \n\n\n\n\nWhen you want to use it add onLoad= '' ajaxpage ( ) ; to the body tag and it should cause the timezone to be stored in the PHP session variable $ _SESSION [ \'time\ ' ] \n\nEdit : P.S . This is untested.\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Dec 17 \'13 at 14:44\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n \r\n community wiki\r\n \r\n \r\n \r\n \r\n 8 revs , 7 users 58 % UnkwnTech\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Care to explain further ? \r\n – UnkwnTech\r\n Feb 19 \'10 at 4:45\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 16\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Horrific to document.write after load and then document.write a META reload tag instead of just redirect using script ! \r\n – mplungjan\r\n Jul 30 \'10 at 13:05\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 9\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Since I keep getting downvoted for this answer even 4 years later , I want to point out that I +1 'd simianarmy 's comment here a long time ago , and I upvoted Ishmaeel 's answer.\r\n – UnkwnTech\r\n May 6 \'12 at 6:20\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 22\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n @ UnkwnTech : I 'll still downvote because the correct reaction would be to rewrite ( or delete ) your answer . At the very least , you should edit to give a big disclaimer at the start of the answer , and possibly redirect to an answer you find more appropriate.\r\n – André Caron\r\n May 22 \'13 at 15:48\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 2\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Also , it only returns the current time zone offset - not the time zone . See the timezone tag wiki.\r\n – Matt Johnson\r\n Jul 12 \'14 at 22:54\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n | \r\n show 2 more comments\r\n \r\n \r\n \r\n\r\n\r\n var ados = ados || { } ; ados.run = ados.run || [ ] ; \r\n ados.run.push ( function ( ) { ados_add_placement ( 22,8277 , '' adzerk75394551 '' ,4 ) .setZone ( 44 ) ; } ) ; \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 254\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\n-new Date ( ) .getTimezoneOffset ( ) /60 ; \n\n\ngetTimezoneOffset ( ) will subtract your time from GMT and return the number of minutes . So if you live in GMT-8 , it will return 480 . To put this into hours , divide by 60 . Also , notice that the sign is the opposite of what you need -- it\ 's calculating GMT\ 's offset from your time zone , not your time zone\ 's offset from GMT . To fix this , simply multiply by -1 . \n\nEdit \n\nAlso note that w3school says : \n\n\n The returned value is not a constant , because of the practice of using\n Daylight Saving Time.\n\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Oct 6 at 12:57\r\n \r\n \r\n \r\n \r\n \r\n Peter B\r\n \r\n 4,5611125\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Nov 27 \'09 at 17:52\r\n \r\n \r\n \r\n \r\n \r\n JD Isaacks\r\n \r\n 21k64224385\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n 4\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n What about users who use cell phones that have browsers without javascript support ? I like the question , the user asks about HTTP headers , user agent ... is there a way to make this work server side , as accurate as possible ? \r\n – Nischal\r\n Sep 9 \'11 at 14:57\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 4\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n This does n't account for Daylight Saving Time / Summer Time , but the link posted by Joseph Lust does : stackoverflow.com/a/5492192/462162\r\n – arlomedia\r\n Apr 15 \'12 at 19:36\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 14\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n This does n't always work for DST . Get timezone offset does exactly what it says . It get 's the offset . A time ZONE is actually a geographical area . This wo n't work for daylight savings since you do n't know which hemisphere the user lives in , or if their country even has daylight savings . Why not use this instead : > > > date.toTimeString ( ) `` 15:46:04 GMT+1200 ( New Zealand Standard Time ) '' \r\n – Keyo\r\n Aug 30 \'12 at 3:49\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 12\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n I beg to differ with Keyo . The definition of getTimezoneOffset ( ) ( according to the ECMA standard ecma-international.org/ecma-262/5.1/ # sec-15.9.5.26 ) is `` Returns the difference between local time and UTC time in minutes . '' - in other words , it should take daylight savings into account . Mozilla 's documentation says `` Daylight saving time prevents this value from being a constant even for a given locale . `` \r\n – xgretsch\r\n Dec 6 \'13 at 11:24\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 3\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n @ xgretsch : It gets the user 's current offset from GMT . That 's fine if you 're presenting another time that occurs on the same day ( unless the current date is a changeover date , where it could be wrong ) . However , there are many timezones which have the same offset from GMT , and they may have different changeover dates or not use daylight savings.\r\n – Mike Dimmick\r\n Apr 7 \'14 at 17:21\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n | \r\n show 13 more comments\r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 154\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nThe most popular ( ==standard ? ) way of determining the time zone I\ 've seen around is simply asking the users themselves . If your website requires subscription , this could be saved in the users\ ' profile data . For anon users , the dates could be displayed as UTC or GMT or some such.\n\nI\ 'm not trying to be a smart aleck . It\ 's just that sometimes some problems have finer solutions outside of any programming context.\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Sep 10 \'13 at 11:42\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Aug 3 \'08 at 19:30\r\n \r\n \r\n \r\n \r\n \r\n Ishmaeel\r\n \r\n 9,54344670\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n 3\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n What about when a user is downloading an .ics file that should have a start time specific to their location ( e.g . 9-11am across the country ) ? They should n't HAVE to say what their time zone is imo.\r\n – Marcy Sutton\r\n Jan 27 \'11 at 21:57\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 12\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n @ Ishmaeel : but users do travel internationally and they shouldnt need to tell their timezone each time they login from some non-native timezone\r\n – user01\r\n Jul 22 \'11 at 8:04\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 3\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n This does n't answer the question , which clearly implies he 's looking for a technological solution.\r\n – G-Wiz\r\n Aug 9 \'11 at 20:20\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 3\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n @ gWiz OP is asking for a standard solution . This is pretty standard.\r\n – Simon\r\n Apr 6 \'12 at 10:26\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 1\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n The best solution would probably be a combination of asking the user ( e.g . providing a time-zone drop down at the top of a report ) , while defaulting the drop down selection to a GPS-determined time-zone when the user is on a mobile device that provides location information , and otherwise default to UTC.\r\n – Triynko\r\n Feb 10 \'15 at 20:30\r\n \r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n | \r\n show 2 more comments\r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 50\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nThere are no HTTP headers that will report the clients timezone so far although it has been suggested to include it in the HTTP specification.\n\nIf it was me , I would probably try to fetch the timezone using clientside JavaScript and then submit it to the server using Ajax or something.\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Aug 1 \'08 at 12:19\r\n \r\n \r\n \r\n \r\n \r\n Mads Kristiansen\r\n \r\n 950712\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n 1\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Strangely , this is the only correct answer to the question , which asks how to do it server side . I suspect the reason there are other answers with more votes is because once you realize you need to do it client side you end up using the other answers . But IMHO anyone upvoting another answer should be upvoting this one too.\r\n – TTT\r\n Feb 18 at 22:32\r\n \r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 40\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nJavascript is the easiest way to get the client\ 's local time . I would suggest using an XMLHttpRequest to send back the local time , and if that fails , fall back to the timezone detected based on their IP address.\n\nAs far as geolocation , I\ 've used MaxMind GeoIP on several projects and it works well , though I\ 'm not sure if they provide timezone data . It\ 's a service you pay for and they provide monthly updates to your database . They provide wrappers in several web languages.\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited May 4 \'12 at 8:59\r\n \r\n \r\n \r\n \r\n \r\n mattytommo\r\n \r\n 40.7k1273109\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Aug 1 \'08 at 15:11\r\n \r\n \r\n \r\n \r\n \r\n pix0r\r\n \r\n 21.5k157591\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n I have voted this answer up because the latitude and longitude obtained from databases like GeoIP ( which has a free version available as of now ) can be combined with databases that convert such a coordinate to a time zone . I think GeoNames has a latter such database.\r\n – Peter O.\r\n Nov 20 \'11 at 6:52\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n See also this question.\r\n – Peter O.\r\n Dec 1 \'11 at 7:11\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n The current versions ( both free and paid-for ) of the MaxMind GeoIP databases/ APIs , do indeed supply timezone information ( it returns `` Europe/London '' for my timezone . ) I ca n't remember whether the old version of their GeoIP system did the same , but it works very well now ! The MaxMind fields are named `` time_zone '' , `` time_zone_name '' .\r\n – Matthew Slyman\r\n Dec 23 \'15 at 21:26\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 29\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nHere is a robust JavaScript solution to determine the time zone the browser is in.\n\n > > > var timezone = jstz.determine ( ) ; \n > > > timezone.name ( ) ; \n '' Europe/London '' \n\n\nhttps : //bitbucket.org/pellepim/jstimezonedetect\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Feb 3 \'15 at 17:38\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Aug 6 \'12 at 21:22\r\n \r\n \r\n \r\n \r\n \r\n Adam\r\n \r\n 1,2701419\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n 5\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Link only answers are discouraged , because if the link disappears , the answer ceases to be useful ; and because without following the link , readers do n't know whether it gives a good answer . In this case , you could clarify that this is a 3rd-party library which takes a database-based approach to identification , and maybe explain some of the principles of its operation.\r\n – IMSoP\r\n Feb 2 \'15 at 17:32\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n This ! This is the way to go . Simple library , handles DST properly . Other answers are full of WTF and many do n't do DST.\r\n – Dirbaio\r\n Nov 1 at 1:34\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 25\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nHere is a more complete way.\n\n\nGet the timezone offset for the user\nTest some days on DLS boundaries to determine if they are in a zone\nthat uses DLS.\n\n\nExcept Below : \n\nfunction TimezoneDetect ( ) { \n var dtDate = new Date ( \'1/1/\ ' + ( new Date ( ) ) .getUTCFullYear ( ) ) ; \n var intOffset = 10000 ; //set initial offset high so it is adjusted on the first attempt\n var intMonth ; \n var intHoursUtc ; \n var intHours ; \n var intDaysMultiplyBy ; \n\n //go through each month to find the lowest offset to account for DST\n for ( intMonth=0 ; intMonth < 12 ; intMonth++ ) { \n //go to the next month\n dtDate.setUTCMonth ( dtDate.getUTCMonth ( ) + 1 ) ; \n\n //To ignore daylight saving time look for the lowest offset.\n //Since , during DST , the clock moves forward , it\ 'll be a bigger number.\n if ( intOffset > ( dtDate.getTimezoneOffset ( ) * ( -1 ) ) ) { \n intOffset = ( dtDate.getTimezoneOffset ( ) * ( -1 ) ) ; \n } \n } \n\n return intOffset ; \n } \n\n\nGetting TZ and DST from JS ( via Way Back Machine ) \n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Feb 2 \'15 at 20:45\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Mar 30 \'11 at 20:48\r\n \r\n \r\n \r\n \r\n \r\n Joseph Lust\r\n \r\n 9,75334749\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n This worked for me ! Read the comments under the blog post for a couple updates to the code.\r\n – arlomedia\r\n Apr 15 \'12 at 19:35\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n This will still only return the standard offset for the time zone , such as +02:00 . It will not give you enough information to determine the time zone of the user , such as Africa/Johannesburg or Europe/Istanbul . See the timezone tag wiki.\r\n – Matt Johnson\r\n Jul 12 \'14 at 22:52\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 404 Not Found ... \r\n – Akira Yamamoto\r\n Dec 15 \'14 at 14:25\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n @ AkiraYamamoto found a cached copy for you via WayBackMachine\r\n – Joseph Lust\r\n Dec 17 \'14 at 14:49\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 2\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n And that is exactly why link-only answers are discouraged . The key points from the linked article need to be copied into the text of the answer itself , so that it stands on its own merit.\r\n – IMSoP\r\n Feb 2 \'15 at 17:27\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 22\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nUsing Unkwntech\ 's approach , I wrote a function using jQuery and PHP . This is tested , and does work ! \n\nOn the PHP page where you are want to have the timezone as a variable , have this snippet of code somewhere near the top of the page : \n\n < ? php \n session_start ( ) ; \n $ timezone = $ _SESSION [ \'time\ ' ] ; \n ? > \n\n\nThis will read the session variable `` time '' , which we are now about to create.\n\nOn the same page , in the , you need to first of all include jQuery : \n\n < script type= '' text/javascript '' src= '' http : //code.jquery.com/jquery-latest.min.js '' > < /script > \n\n\nAlso in the , below the jQuery , paste this : \n\n < script type= '' text/javascript '' > \n $ ( document ) .ready ( function ( ) { \n if ( `` < ? php echo $ timezone ; ? > '' .length==0 ) { \n var visitortime = new Date ( ) ; \n var visitortimezone = `` GMT `` + -visitortime.getTimezoneOffset ( ) /60 ; \n $ .ajax ( { \n type : `` GET '' , \n url : `` http : //domain.com/timezone.php '' , \n data : \'time=\'+ visitortimezone , \n success : function ( ) { \n location.reload ( ) ; \n } \n } ) ; \n } \n } ) ; \n < /script > \n\n\nYou may or may not have noticed , but you need to change the url to your actual domain.\n\nOne last thing . You are probably wondering what the heck timezone.php is . Well , it is simply this : \n ( create a new file called timezone.php and point to it with the above url ) \n\n < ? php\n session_start ( ) ; \n $ _SESSION [ \'time\ ' ] = $ _GET [ \'time\ ' ] ; \n ? > \n\n\nIf this works correctly , it will first load the page , execute the JavaScript , and reload the page . You will then be able to read the $ timezone variable and use it to your pleasure ! It returns the current UTC/GMT time zone offset ( GMT -7 ) or whatever timezone you are in . \n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Jan 4 \'12 at 5:48\r\n \r\n \r\n \r\n \r\n \r\n the Tin Man\r\n \r\n 112k22139209\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Apr 9 \'11 at 19:16\r\n \r\n \r\n \r\n \r\n \r\n Westy92\r\n \r\n 1,6231620\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n i do like this , but i might have something that checks the current $ _SESSION [ 'time ' ] and only get the javascript to reload if its different\r\n – Christopher Chase\r\n Sep 15 \'11 at 4:59\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 1\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n It 's probably easier to use a Cookie than a Session to transport this , since locking and unserializing the PHP session may cause slowdowns in your app . For maximum efficiency , you could copy the value into the session and delete the cookie so that it 's not sent in subsequent requests.\r\n – IMSoP\r\n Feb 2 \'15 at 17:34\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 16\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nI still have not seen a detailed answer here that gets the time zone . You shouldn\'t need to geocode by IP address or use PHP ( lol ) or incorrectly guess from an offset . \n\nFirstly a time zone is not just an offset from GMT . It is an area of land in which the time rules are set by local standards . Some countries have daylight savings , and will switch on DST at differing times . It\ 's usually important to get the actual zone , not just the current offset.\n\nIf you intend to store this timezone , for instance in user preferences you want the zone and not just the offset . For realtime conversions it won\'t matter much.\n\nNow , to get the time zone with javascript you can use this : \n\n > > new Date ( ) .toTimeString ( ) ; \n '' 15:46:04 GMT+1200 ( New Zealand Standard Time ) '' \n//Use some regular expression to extract the time.\n\n\nHowever I found it easier to simply use this robust plugin which returns the Olsen formatted timezone : \n\nhttps : //github.com/scottwater/jquery.detect_timezone\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Aug 30 \'12 at 5:18\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Aug 30 \'12 at 5:08\r\n \r\n \r\n \r\n \r\n \r\n Keyo\r\n \r\n 6,305115595\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 13\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\n\n Anyone know of any services that will\n match IP to geographic location\n\n\nWell , lucky for you that answer can be found on our very own stackoverflow website : \nHow to get the Country according to a certain IP ? \n\nspoiler : http : //www.hostip.info/use.html\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Aug 4 \'08 at 11:11\r\n \r\n \r\n \r\n \r\n \r\n sven\r\n \r\n 9,59693661\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n I just went to that website and it was totally wrong : -/\r\n – Adam Lassek\r\n Aug 25 \'10 at 2:46\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n @ AdamLassek : possibly interesting information , but can you explain why ? \r\n – André Caron\r\n May 22 \'13 at 15:43\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n @ AndréCaron It says I 'm in Irvine , CA when in fact I am actually in Omaha , NE.\r\n – Adam Lassek\r\n May 24 \'13 at 19:58\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n @ AdamLassek OK , so it works for you , but you have nothing to support it being totally wrong , then.\r\n – André Caron\r\n May 27 \'13 at 11:59\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n @ AndréCaron It 's totally wrong for me , so I am advising skepticism of that site 's accuracy.\r\n – Adam Lassek\r\n May 29 \'13 at 22:35\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 13\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nEasy , just use the JavaScript getTimezoneOffset function like so : \n\n-new Date ( ) .getTimezoneOffset ( ) /60 ; \n\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Feb 20 \'13 at 16:27\r\n \r\n \r\n \r\n \r\n \r\n Brad Koch\r\n \r\n 7,45985984\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered May 27 \'12 at 17:25\r\n \r\n \r\n \r\n \r\n \r\n JoeyFur62\r\n \r\n 15236\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n 1\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n This is a Javascript function , not a PHP function.\r\n – cincodenada\r\n Feb 16 \'13 at 1:05\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Also , it only returns the current time zone offset - not the time zone . See the timezone tag wiki.\r\n – Matt Johnson\r\n Jul 12 \'14 at 22:45\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 13\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nWith PHP date function you will get the date time of server on which site is located . The only way to get user time is to use JavaScript.\n\nBut I suggest you to , if your site have registration required then best way is to ask user while registration as compulsory field . You can list various time zones in register page and save that in database . After this if user login to site then you can set default time zone for that session as per users\xe2\x80\x99 selected time zone . You can set any specific time zone using PHP function date_default_timezone_set . This set the specified time zone for users.\n\nBasically users\xe2\x80\x99 time zone is goes to client side , so we must use JavaScript for this.\n\nBelow is the script to get users\xe2\x80\x99 time zone using PHP and JavaScript.\n\n < ? php\n # http : //www.php.net/manual/en/timezones.php List of Time Zones\nfunction showclienttime ( ) \n { \n if ( ! isset ( $ _COOKIE [ \'GMT_bias\ ' ] ) ) \n { \n ? > \n < script type= '' text/javascript '' > \n var Cookies = { } ; \n Cookies.create = function ( name , value , days ) { \n if ( days ) { \n var date = new Date ( ) ; \n date.setTime ( date.getTime ( ) + ( days * 24 * 60 * 60 * 1000 ) ) ; \n var expires = `` ; expires= '' + date.toGMTString ( ) ; \n } else { \n var expires = `` '' ; \n } \n document.cookie = name + `` = '' + value + expires + `` ; path=/ '' ; \n this [ name ] = value ; \n } \n\n var now = new Date ( ) ; \n Cookies.create ( `` GMT_bias '' , now.getTimezoneOffset ( ) ,1 ) ; \n window.location = `` < ? php echo $ _SERVER [ \'PHP_SELF\ ' ] ; ? > '' ; \n < /script > \n < ? php\n } else { \n $ fct_clientbias = $ _COOKIE [ \'GMT_bias\ ' ] ; \n } \n\n $ fct_servertimedata = gettimeofday ( ) ; \n $ fct_servertime = $ fct_servertimedata [ \'sec\ ' ] ; \n $ fct_serverbias = $ fct_servertimedata [ \'minuteswest\ ' ] ; \n $ fct_totalbias = $ fct_serverbias \xe2\x80\x93 $ fct_clientbias ; \n $ fct_totalbias = $ fct_totalbias * 60 ; \n $ fct_clienttimestamp = $ fct_servertime + $ fct_totalbias ; \n $ fct_time = time ( ) ; \n $ fct_year = strftime ( `` % Y '' , $ fct_clienttimestamp ) ; \n $ fct_month = strftime ( `` % B '' , $ fct_clienttimestamp ) ; \n $ fct_day = strftime ( `` % d '' , $ fct_clienttimestamp ) ; \n $ fct_hour = strftime ( `` % I '' , $ fct_clienttimestamp ) ; \n $ fct_minute = strftime ( `` % M '' , $ fct_clienttimestamp ) ; \n $ fct_second = strftime ( `` % S '' , $ fct_clienttimestamp ) ; \n $ fct_am_pm = strftime ( `` % p '' , $ fct_clienttimestamp ) ; \n echo $ fct_day . `` , `` . $ fct_month . '' `` . $ fct_year . '' ( `` . $ fct_hour. '' : '' . $ fct_minute. '' : '' . $ fct_second . '' `` . $ fct_am_pm . '' ) '' ; \n } \n\nshowclienttime ( ) ; \n ? > \n\n\nBut as per my point of view , it\xe2\x80\x99s better to ask to the users if registration is mandatory in your project.\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Feb 7 at 0:21\r\n \r\n \r\n \r\n \r\n \r\n Markus Safar\r\n \r\n 3,32531233\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Sep 16 \'10 at 5:59\r\n \r\n \r\n \r\n \r\n \r\n Sanjay Khatri\r\n \r\n 1,38651937\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 12\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nDon\'t use IP address to definitively determine location ( and hense timezone ) -- that\ 's because with NAT , Proxies ( increasingly popular ) , and VPNs , IP addresses do not necessarily realistically reflect the user\ 's actual location , but the location at which the servers implementing those protocols reside.\n\nSimilar to how Area Codes are no longer useful for locating a telephone user , given the popularity of Number Portability.\n\nIP and other techniques shown above are useful for suggesting a default that the user can adjust/correct.\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Jan 2 \'13 at 18:05\r\n \r\n \r\n \r\n \r\n \r\n Jaime G\r\n \r\n 12112\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 12\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nTo submit the offset as an HTTP header on AJAX requests with jQuery\n\n $ .ajaxSetup ( { \n beforeSend : function ( xhr , settings ) { \n xhr.setRequestHeader ( `` X-TZ-Offset '' , -new Date ( ) .getTimezoneOffset ( ) /60 ) ; \n } \n } ) ; \n\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Jun 18 \'15 at 21:29\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Sep 13 \'12 at 2:05\r\n \r\n \r\n \r\n \r\n \r\n philfreo\r\n \r\n 21.1k1695117\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n This only returns the current time zone offset - not the time zone . See the timezone tag wiki.\r\n – Matt Johnson\r\n Jul 12 \'14 at 22:47\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 11\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nThe magic all seems to be in \n\nvisitortime.getTimezoneOffset ( ) \n\n\nThat\ 's cool , I didn\'t know about that . Does it work in IE , etc ? \nFrom there you should be able to use JS to ajax , set cookies , whatever . I\ 'd probably go the cookie route myself.\n\nYou\ 'll need to allow the user to change it though . We tried to use geolocation ( via maxmind ) to do this a while ago , and it was wrong reasonably often - enough to make it not worth doing , so we just let the user set it in their profile , and show a notice to users who haven\'t set theirs yet.\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Aug 3 \'08 at 20:40\r\n \r\n \r\n \r\n \r\n \r\n Orion Edwards\r\n \r\n 72.3k41175253\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 11\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nA simple way to do it is by using : \n\nnew Date ( ) .getTimezoneOffset ( ) ; \n\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Oct 14 \'12 at 12:10\r\n \r\n \r\n \r\n \r\n \r\n Paul Fleming\r\n \r\n 16.4k63985\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Dec 1 \'11 at 11:08\r\n \r\n \r\n \r\n \r\n \r\n TheNoble-Coder\r\n \r\n 1,25021641\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n 5\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Why did you repost an identical answer ( by John Isaacks ) from 2 years ago : stackoverflow.com/a/1809974/836407 ? \r\n – chown\r\n Jan 30 \'12 at 1:01\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Also , it only returns the current time zone offset - not the time zone . See the timezone tag wiki.\r\n – Matt Johnson\r\n Jul 12 \'14 at 22:46\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 10\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nIf you happen to be using OpenID for authentication , Simple Registration Extension would solve the problem for authenticated users ( You\ 'll need to convert from tz to numeric ) .\n\nAnother option would be to infer the time zone from the user agent\ 's country preference . This is a somewhat crude method ( won\'t work for en-US ) , but makes a good approximation.\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Sep 2 \'08 at 15:14\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Aug 30 \'08 at 9:29\r\n \r\n \r\n \r\n \r\n \r\n Dmitry Shechtman\r\n \r\n 2,53331821\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 10\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\njavascript : \n\nfunction maketimus ( timestampz ) \n { \n var linktime = new Date ( timestampz * 1000 ) ; \n var linkday = linktime.getDate ( ) ; \n var freakingmonths=new Array ( ) ; \n\n freakingmonths [ 0 ] = '' jan '' ; \n freakingmonths [ 1 ] = '' feb '' ; \n freakingmonths [ 2 ] = '' mar '' ; \n freakingmonths [ 3 ] = '' apr '' ; \n freakingmonths [ 4 ] = '' may '' ; \n freakingmonths [ 5 ] = '' jun '' ; \n freakingmonths [ 6 ] = '' jul '' ; \n freakingmonths [ 7 ] = '' aug '' ; \n freakingmonths [ 8 ] = '' sep '' ; \n freakingmonths [ 9 ] = '' oct '' ; \n freakingmonths [ 10 ] = '' nov '' ; \n freakingmonths [ 11 ] = '' dec '' ; \n\n var linkmonthnum = linktime.getMonth ( ) ; \n var linkmonth = freakingmonths [ linkmonthnum ] ; \n var linkyear = linktime.getFullYear ( ) ; \n var linkhour = linktime.getHours ( ) ; \n var linkminute = linktime.getMinutes ( ) ; \n\n if ( linkminute < 10 ) \n { \n linkminute = `` 0 '' + linkminute ; \n } \n\n var fomratedtime = linkday + linkmonth + linkyear + `` `` + linkhour + `` : '' + linkminute + `` h '' ; \n return fomratedtime ; \n } \n\n\nsimply provide your times in UNIX Timestamp format to this function , javascript already knows the timezone of the user.\n\nlike this : \n\nphp : \n\necho \ ' < script type= '' text/javascript '' > \nvar eltimio = maketimus ( \'. $ unix_timestamp_ofshiz.\ ' ) ; \ndocument.write ( eltimio ) ; \n < /script > < noscript > pls enable javascript < /noscript > \ ' ; \n\n\nthis will always show the times correctly based on the timezone the person has set on his computer clock , no need to ask anything to anyone and save it into places thank god ! \n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Feb 7 at 0:22\r\n \r\n \r\n \r\n \r\n \r\n Markus Safar\r\n \r\n 3,32531233\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Aug 27 \'11 at 23:00\r\n \r\n \r\n \r\n \r\n \r\n Envis\r\n \r\n 10912\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n $ unix_timestamp_ofshiz ? Something is missing here and does n't quite work , even though this seems like it could be a good answer.\r\n\t\t – user6173198\r\n Sep 15 at 5:09\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 8\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nHere is an article ( with source code ) that explains how to determine and use localized time in an ASP.NET ( VB.NET , C # ) application : \n\nIt\ 's About Time\n\nIn short , the described approach relies on the JavaScript getTimezoneOffset function , which returns the value that is saved in the session cookie and used by code-behind to adjust time values between GMT and local time . The nice thing is that the user does not need to specify the time zone ( the code does it automatically ) . There is more involved ( this is why I link to the article ) , but provided code makes it really easy to use . I suspect that you can convert the logic to PHP and other languages ( as long as you understand ASP.NET ) . \n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered May 25 \'10 at 0:11\r\n \r\n \r\n \r\n \r\n \r\n Alek Davis\r\n \r\n 5,38522735\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n 1\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n The link is dead . I think this is the alternative link : devproconnections.com/article/aspnet2/it-s-about-time-122778\r\n – Gan\r\n Mar 21 \'13 at 3:56\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n 1\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n The article is available as PDF form here too : app.box.com/shared/bfvvmidtyg\r\n – Ivaylo Slavov\r\n Oct 7 \'13 at 8:41\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n The method of converting UTC server time to local client time described in this article is wrong . Using the current client offset to adjust UTC times on the server will result in incorrect `` local '' times for half the year for client locales that observe daylight savings time . Consider this scenario : a client in the UK on 14 Jan 2013 ( GMT+0000 Standard Time ) sets a date and time of 21 Aug 2015 14:00 ( GMT+0100 Daylight Time ) . This gets normalised on the server to 21 Aug 2015 13:00 UTC . On the day this occurs the client offset is 0 so the time sent back to the client will be 21 Aug 2015 13:00.\r\n – Stephen Blair\r\n Jan 23 \'15 at 17:25\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Valid point , but I did n't claim this to be a bullet-proof solution . If you need to implement a really time-sensitive solution , say a train ticket booking application , then you need to find a more comprehensive ( and complex solution ) . However , for many apps this would not be an issue . Because in many cases we want to localize GMT values for current session . Now , if you have an application that needs to save a time stamp for some even in the future and it can not tolerate DTS , then a proper way would be to present an option to save time directly in GMT . If you know a better option , please share.\r\n – Alek Davis\r\n Jan 24 \'15 at 0:25\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 7\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nTry this php code\n\n < ? php \n $ ip = $ _SERVER [ \'REMOTE_ADDR\ ' ] ; \n $ json = file_get_contents ( `` http : //api.easyjquery.com/ips/ ? ip= '' . $ ip . `` & full=true '' ) ; \n $ json = json_decode ( $ json , true ) ; \n $ timezone = $ json [ \'LocalTimeZone\ ' ] ; \n ? > \n\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Feb 17 \'13 at 19:28\r\n \r\n \r\n \r\n \r\n \r\n Community♦\r\n \r\n 11\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Jul 30 \'12 at 8:08\r\n \r\n \r\n \r\n \r\n \r\n pckabeer\r\n \r\n 590526\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Looks like api.easyjquery.com is no longer available\r\n – GingerPlusPlus\r\n Aug 15 at 12:38\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 7\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nSimple with JS and PHP : \n\nEven though the user can mess with his internal clock and/or timezone , the best way i found so far , to get the offset , remains new Date ( ) .getTimezoneOffset ( ) ; . Its non-invasive , doesn\'t give head-aches and eliminates the need to rely on third parties.\n\nSay i have a table users that contains a field date_created int ( 13 ) , for storing unix timestamps ; \n\nAssuming a client creates a new account , data is received by post , and i need to insert/update the date_created column with the client\ 's unix timestamp , not the server\'s.\n\nSince the timezoneOffset is needed at the time of insert/update , it is passed as an extra $ _POST element when the client submits the form , thus eliminating the need to store it in sessions and/or cookies , and no additional server hits either.\n\nvar off = ( -new Date ( ) .getTimezoneOffset ( ) /60 ) .toString ( ) ; //note the \'-\ ' in front which makes it return positive for negative offsets and negative for positive offsets\nvar tzo = off == \'0\ ' ? \'GMT\ ' : off.indexOf ( \'-\ ' ) > -1 ? \'GMT\'+off : \'GMT+\'+off ; \n\n\nSay the server receives tzo as $ _POST [ \'tzo\ ' ] ; \n\n $ ts = new DateTime ( \'now\ ' , new DateTimeZone ( $ _POST [ \'tzo\ ' ] ) ; \n $ user_time = $ ts- > format ( `` F j , Y , g : i a '' ) ; //will return the users current time in readable format , regardless of whether date_default_timezone ( ) is set or not.\n $ user_timestamp = strtotime ( $ user_time ) ; \n\n\nInsert/update date_created= $ user_timestamp.\n\nWhen retrieving the date_created , you can convert the timestamp like so : \n\n $ date_created = //get from db\n $ created = date ( `` F j , Y , g : i a '' , $ date_created ) ; //return it to the user or whatever\n\n\nNow , this example may fit one\ 's needs , when it comes to inserting a first timestamp ... When it comes to an additional timestamp , or table , u may want to consider inserting the tzo value into the users table for future reference , or setting it as session or as a cookie.\n\nP.S . BUT what if the user travels and switches timezones . Logs in at GMT+4 , travels fast to GMT-1 and logs in again . Last login would be in the future.\n\nI think ... we think too much.\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Sep 15 \'14 at 1:19\r\n \r\n \r\n \r\n \r\n \r\n man\r\n \r\n 13718\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 6\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nOne possible option is to use the Date header field , which is defined in RFC 7231 and is supposed to include the timezone . Of course , it is not guaranteed that the value is really the client\ 's timezone , but it can be a convenient starting point.\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Sep 8 \'14 at 23:25\r\n \r\n \r\n \r\n \r\n \r\n Berislav Lopac\r\n \r\n 6,77833339\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n Unfortunately , that header seems to be mainly designed for responses , not requests : `` A user agent MAY send a Date header field in a request , though generally will not do so unless it is believed to convey useful information to the server . '' I just checked , and Firefox does not send it.\r\n – IMSoP\r\n Feb 2 \'15 at 17:43\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 4\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nHere\ 's how I do it . This will set the PHP default timezone to the user\ 's local timezone . Just paste the following on the top of all your pages : \n\n < ? php\nsession_start ( ) ; \n\nif ( ! isset ( $ _SESSION [ \'timezone\ ' ] ) ) \n { \n if ( ! isset ( $ _REQUEST [ \'offset\ ' ] ) ) \n { \n ? > \n < script > \n var d = new Date ( ) \n var offset= -d.getTimezoneOffset ( ) /60 ; \n location.href = `` < ? php echo $ _SERVER [ \'PHP_SELF\ ' ] ; ? > ? offset= '' +offset ; \n < /script > \n < ? php \n } \n else\n { \n $ zonelist = array ( \'Kwajalein\ ' = > -12.00 , \'Pacific/Midway\ ' = > -11.00 , \'Pacific/Honolulu\ ' = > -10.00 , \'America/Anchorage\ ' = > -9.00 , \'America/Los_Angeles\ ' = > -8.00 , \'America/Denver\ ' = > -7.00 , \'America/Tegucigalpa\ ' = > -6.00 , \'America/New_York\ ' = > -5.00 , \'America/Caracas\ ' = > -4.30 , \'America/Halifax\ ' = > -4.00 , \'America/St_Johns\ ' = > -3.30 , \'America/Argentina/Buenos_Aires\ ' = > -3.00 , \'America/Sao_Paulo\ ' = > -3.00 , \'Atlantic/South_Georgia\ ' = > -2.00 , \'Atlantic/Azores\ ' = > -1.00 , \'Europe/Dublin\ ' = > 0 , \'Europe/Belgrade\ ' = > 1.00 , \'Europe/Minsk\ ' = > 2.00 , \'Asia/Kuwait\ ' = > 3.00 , \'Asia/Tehran\ ' = > 3.30 , \'Asia/Muscat\ ' = > 4.00 , \'Asia/Yekaterinburg\ ' = > 5.00 , \'Asia/Kolkata\ ' = > 5.30 , \'Asia/Katmandu\ ' = > 5.45 , \'Asia/Dhaka\ ' = > 6.00 , \'Asia/Rangoon\ ' = > 6.30 , \'Asia/Krasnoyarsk\ ' = > 7.00 , \'Asia/Brunei\ ' = > 8.00 , \'Asia/Seoul\ ' = > 9.00 , \'Australia/Darwin\ ' = > 9.30 , \'Australia/Canberra\ ' = > 10.00 , \'Asia/Magadan\ ' = > 11.00 , \'Pacific/Fiji\ ' = > 12.00 , \'Pacific/Tongatapu\ ' = > 13.00 ) ; \n $ index = array_keys ( $ zonelist , $ _REQUEST [ \'offset\ ' ] ) ; \n $ _SESSION [ \'timezone\ ' ] = $ index [ 0 ] ; \n } \n } \n\ndate_default_timezone_set ( $ _SESSION [ \'timezone\ ' ] ) ; \n\n//rest of your code goes here\n ? > \n\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n \r\n edited Feb 7 at 0:23\r\n \r\n \r\n \r\n \r\n \r\n Markus Safar\r\n \r\n 3,32531233\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Jan 28 \'12 at 8:21\r\n \r\n \r\n \r\n \r\n \r\n Dane Iracleous\r\n \r\n 563416\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n 1\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n This does n't account for `` daylight saving '' adjustments - a user in Dublin would match your 'Europe/Dublin ' in winter , but 'Europe/Belgrade ' in summer . If you 're going to use the current offset , all you can reasonably assume is that offset , not a geographical identifier.\r\n – IMSoP\r\n Feb 2 \'15 at 17:40\r\n \r\n \r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n \r\n \r\n \r\n\r\n\r\n \r\n up vote\r\n 1\r\n down vote\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n \r\nyou could do it on client with moment-timezone and send the value to server ; sample usage : \n\n > moment.tz.guess ( ) \n '' America/Asuncion '' \n\n \r\n \r\n \r\n \r\nshare|improve this answer \r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n \r\n answered Sep 13 at 6:19\r\n \r\n \r\n \r\n \r\n \r\n SummerBreeze\r\n \r\n 1,91011111\r\n \r\n \r\n\r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n \r\n\t \r\n\t\t \r\n \r\n\r\n \r\n \r\n\t\t \r\n\t \r\n\r\n \r\n\r\n add a comment | \r\n \r\n \r\n \r\n \r\n\r\n\t\t\t\t \r\n protected by AVD Jul 2 \'13 at 3:03\r\n\r\n \r\nThank you for your interest in this question . \nBecause it has attracted low-quality or spam answers that had to be removed , posting an answer now requires 10 reputation on this site ( the association bonus does not count ) .\n\nWould you like to answer one of these unanswered questions instead ? \n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t\t\r\nNot the answer you 're looking for ? \t\t\t\t\t\t\tBrowse other questions tagged html browser timezone timezoneoffset or ask your own question.\t\t\t\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t \r\n\t\t\t \r\n\t\t\t \r\n\t\t\t \r\n\t\t\t asked\r\n\t\t\t \r\n\t\t\t \r\n\t\t\t 8 years ago\r\n\t\t\t \r\n\t\t\t \r\n\t\t\t \r\n\t\t\t \r\n\t\t\t viewed\r\n\t\t\t \r\n\r\n\t\t\t \r\n\t\t\t \r\n\t\t\t 128355 times\r\n\t\t\t \r\n\t\t\t \r\n\t\t\t \r\n\t\t\t \r\n\t\t\t \r\n\t\t\t active\r\n\t\t\t \r\n\t\t\t \r\n\t\t\t 11 days ago\r\n\t\t\t \r\n\t\t\t \r\n\t\t\t \r\n\t\t\t \r\n\t\t\t\t\t\t\r\n\t\t\t\r\n var ados = ados || { } ; ados.run = ados.run || [ ] ; \r\n ados.run.push ( function ( ) { ados_add_placement ( 22,8277 , '' adzerk1414903393 '' , [ 5,17,2221 ] ) .setZone ( 45 ) ; } ) ; \r\n \r\n \r\n \r\n \r\n ; ( function ( n ) { var u=Object.assign||function ( n ) { for ( var i , r , u , f , e= [ ] , t=1 ; t < arguments.length ; t++ ) e [ t-1 ] =arguments [ t ] ; for ( i=0 , r=e ; i < r.length ; i++ ) { u=r [ i ] ; for ( f in u ) n [ f ] =u [ f ] } return n } , r , t , f , i ; try { if ( typeof [ ] .indexOf ! = '' function '' ) return ; if ( window.attachEvent & & ! window.addEventListener ) return ; if ( r= [ `` stackoverflow.com '' , '' serverfault.com '' , '' careers.stackoverflow.com '' , '' blog.codinghorror.com '' , '' joelonsoftware.com '' , '' www.joelonsoftware.com '' , '' talent.stackoverflow.com '' ] , r [ 0 ] ! == '' * '' & & r.indexOf ( location.hostname ) ===-1 ) return ; t=window ; f=t.clc_opts ? u ( { } , window.clc_opts ) : { } ; t.clc_opts=u ( n , f ) ; void 0 ; t.clc_opts.autoload & & ( t.clc_init=t.clc_init|| [ ] , t.clc_init.push ( function ( ) { return t.clc.load ( ) } ) ) ; i=document.createElement ( `` script '' ) ; i.async= ! 0 ; void 0 ; i.src=t.clc_opts.lib ; document.body.appendChild ( i ) } catch ( e ) { void 0 } } ) .call ( null , { `` azw '' : true , '' kt '' :2000 , '' autoload '' : true , '' tto '' : true , '' d '' : { `` sb '' : [ `` hireme '' , '' clc-sb '' ] , '' tlb '' : [ `` careers1 '' , '' clc-tlb '' ] , '' mlb '' : [ `` careers3 '' , '' clc-mlb '' ] } , '' allowed '' : [ `` stackoverflow.com '' , '' serverfault.com '' , '' careers.stackoverflow.com '' , '' blog.codinghorror.com '' , '' joelonsoftware.com '' , '' www.joelonsoftware.com '' , '' talent.stackoverflow.com '' ] , '' h '' : '' clc.stackoverflow.com '' , '' u '' : '' //clc.stackoverflow.com/p.js '' , '' lib '' : '' //cdn.sstatic.net/clc/clc.min.js ? v=949796768e2b '' } ) ; \r\n \r\nwindow.clcfl_request = \'As4b_sYYIdQIAAAAAA0AAAACAAAAAgAAAAAmAAAAfGh0bWx8YnJvd3Nlcnx0aW1lem9uZXx0aW1lem9uZW9mZnNldHwAziI94dbg24Xcsw\ ' ; \r\n ; ( function ( n ) { var t , i ; try { if ( typeof [ ] .indexOf ! = '' function '' ) return ; if ( window.attachEvent & & ! window.addEventListener ) return ; if ( n.allowed [ 0 ] ! == '' * '' & & n.allowed.indexOf ( location.hostname ) ===-1 ) return ; t=window ; t.clcfl=t.clcfl|| { } ; t.clcfl_request||void 0 ; t.clcfl.init=t.clcfl.init|| [ ] ; t.clcfl.init.push ( function ( n ) { return n.load ( ) } ) ; t.clcfl.options=n ; i=document.createElement ( `` script '' ) ; i.async= ! 0 ; i.src=n.lib ; document.body.appendChild ( i ) } catch ( r ) { } } ) .call ( null , { `` azw '' : true , '' kt '' :2000 , '' autoload '' : true , '' tto '' : false , '' d '' : { `` sb '' : [ `` hireme '' , '' clc-sb '' ] , '' tlb '' : [ `` careers1 '' , '' clc-tlb '' ] , '' mlb '' : [ `` careers3 '' , '' clc-mlb '' ] } , '' allowed '' : [ `` stackoverflow.com '' , '' serverfault.com '' , '' careers.stackoverflow.com '' , '' blog.codinghorror.com '' , '' joelonsoftware.com '' , '' www.joelonsoftware.com '' , '' talent.stackoverflow.com '' ] , '' h '' : '' clc.stackoverflow.com '' , '' u '' : '' //clc.stackoverflow.com/fl/markup-bg.js '' , '' lib '' : '' //cdn.sstatic.net/clc/fl/clc.min.js ? v=b8405c6e42c0 '' } ) ; \r\n \r\n\t\t\t\r\n \r\n\r\n\r\n StackExchange.ready ( function ( ) { \r\n StackExchange.newsletterAd.init ( ) ; \r\n } ) ; \r\n\r\n\r\n\r\n Get the weekly newsletter ! In it , you 'll get : \r\n \r\n The week 's top questions and answers\r\n Important community announcements\r\n Questions that need answers\r\n \r\n \r\n see an example newsletter\r\n \r\n \r\n\r\nBy subscribing , you agree to the privacy policy and terms of service.\r\n\r\n \r\n\r\n\r\n \r\n\r\n \r\n\tLinked\r\n\t\r\n\r\n\r\n\t\r\n\t\t25\r\n\t\r\n\tget user timezone\r\n\r\n\r\n\t\r\n\t\t16\r\n\t\r\n\tHow are major sites detecting timezone ? \r\n\r\n\r\n\t\r\n\t\t-1\r\n\t\r\n\tTimestamp from the web browser ? \r\n\r\n\r\n\t\r\n\t\t0\r\n\t\r\n\tGetting User time zone related date\r\n\r\n\r\n\t\r\n\t\t0\r\n\t\r\n\tPhp : change timezone based on user\r\n\r\n\r\n\t\r\n\t\t0\r\n\t\r\n\tGet User 's Date & Time in User ' TimeZone\r\n\r\n\r\n\t\r\n\t\t0\r\n\t\r\n\tTimezone issue in event application\r\n\r\n\r\n\t\r\n\t\t101\r\n\t\r\n\tDisplay date/time in user 's locale format and time offset\r\n\r\n\r\n\t\r\n\t\t53\r\n\t\r\n\tHow to get the Country according to a certain IP ? \r\n\r\n\r\n\t\r\n\t\t42\r\n\t\r\n\tDetermine timezone from latitude/longitude without using web services like Geonames.org\r\n\t\t\t\t\t\r\n\t\t\t\tsee more linked questions\xe2\x80\xa6\r\n\t\t\t\r\n\t\r\n\r\n\r\n\t\t\t\t\r\n\t\t\t\t\tRelated\r\n \r\n 0How to convert system 's timezone to user 's timezone13PHP & MySQL : Converting Stored TIMESTAMP into User 's Local Timezone9What is the best way to store timezone information in my DB ? 0php/mysql proper way to query timezone sensitive rows8moment.js , timezones and daylight savings10How to convert time correctly across timezones ? 1Subtract datetimes in different timezones2Convert cron expression from one timezone to another one0Determine client 's timezone using nginx4Timezone change calculations according to UTC as per users timezone\r\n \r\n\t\t\t\t\r\n \r\n\r\n \r\n \r\n Hot Network Questions\r\n \r\n \r\n \r\n \r\n \r\n URL-Friendly Titles\r\n \r\n\r\n \r\n \r\n \r\n The sea in your terminal\r\n \r\n\r\n \r\n \r\n \r\n Easier way to collect beans in Poke-Pelago ? \r\n \r\n\r\n \r\n \r\n \r\n Why are there no toilets on the starship 'Exciting Undertaking ' ? \r\n \r\n\r\n \r\n \r\n \r\n Why increase the number of cylinders in an engine instead of increasing their volume ? \r\n \r\n\r\n \r\n \r\n \r\n Please release me ! \r\n \r\n\r\n \r\n \r\n \r\n Why would Snape set his office password to 'Dumbledore ' ? \r\n \r\n\r\n \r\n \r\n \r\n Output the HTML colors\r\n \r\n\r\n \r\n \r\n \r\n Why does MIT have a /8 IPv4 block ? \r\n \r\n\r\n \r\n \r\n \r\n Is it accepted/common to answer factually inaccurate reviewer comments in case of rejection ? \r\n \r\n\r\n \r\n \r\n \r\n Pythonic way to add each previous element in list\r\n \r\n\r\n \r\n \r\n \r\n Sudoers blacklist\r\n \r\n\r\n \r\n \r\n \r\n Problems setting chaptermark in headings\r\n \r\n\r\n \r\n \r\n \r\n Who is the woman in this image representing ? \r\n \r\n\r\n \r\n \r\n \r\n How could I have modern computers without GUIs ? \r\n \r\n\r\n \r\n \r\n \r\n How to handle a highly productive employee but who reacts extremely emotionally to code reviews ? \r\n \r\n\r\n \r\n \r\n \r\n Why is the American space program launch site based in Florida and not Texas ? \r\n \r\n\r\n \r\n \r\n \r\n Are 550 people still losing their jobs at `` Trump 's '' Carrier plant ? \r\n \r\n\r\n \r\n \r\n \r\n How to handle sexist questions toward a faculty job candidate by other undergraduates ? \r\n \r\n\r\n \r\n \r\n \r\n What is a cantrip and what page are they on ? \r\n \r\n\r\n \r\n \r\n \r\n Is the set of positive rational sequences diverging to infinity countable ? \r\n \r\n\r\n \r\n \r\n \r\n How do you judge the potential of a newer journal ? \r\n \r\n\r\n \r\n \r\n \r\n Game build in unity3d project transfer from a previous developer\r\n \r\n\r\n \r\n \r\n \r\n Lock camera to view\r\n \r\n\r\n \r\n \r\n\r\n \r\n more hot questions\r\n \r\n\r\n\t\t\r\n\t\r\n\r\n \r\n \r\n question feed\r\n \r\n \r\n\t\r\nStackExchange.ready ( function ( ) { $ .get ( \'/posts/13/ivc/363d\ ' ) ; } ) ; \r\n\r\n\r\n \r\ndefault\r\n\r\n\r\n \r\n \r\n \r\n \r\n \r\n \r\n about us\r\n tour\r\n help\r\n blog\r\n chat\r\n data\r\n legal\r\n privacy policy\r\n work here\r\n advertising info\r\n\r\n mobile\r\n contact us\r\n feedback\r\n \r\n \r\n \r\n \r\n \r\n \r\n Technology\r\n \r\n \r\n Life / Arts\r\n \r\n \r\n Culture / Recreation\r\n \r\n \r\n Science\r\n \r\n \r\n Other\r\n \r\n \r\n \r\n \r\n \r\n Stack Overflow\r\n Server Fault\r\n Super User\r\n Web Applications\r\n Ask Ubuntu\r\n Webmasters\r\n Game Development\r\n TeX - LaTeX\r\n \r\n Software Engineering\r\n Unix & Linux\r\n Ask Different ( Apple ) \r\n WordPress Development\r\n Geographic Information Systems\r\n Electrical Engineering\r\n Android Enthusiasts\r\n Information Security\r\n \r\n Database Administrators\r\n Drupal Answers\r\n SharePoint\r\n User Experience\r\n Mathematica\r\n Salesforce\r\n ExpressionEngine® Answers\r\n Cryptography\r\n \r\n Code Review\r\n Magento\r\n Signal Processing\r\n Raspberry Pi\r\n Programming Puzzles & Code Golf\r\n \r\n \r\n \r\n more ( 7 ) \r\n \r\n \r\n \r\n \r\n \r\n \r\n Photography\r\n Science Fiction & Fantasy\r\n Graphic Design\r\n Movies & TV\r\n Music : Practice & Theory\r\n Seasoned Advice ( cooking ) \r\n Home Improvement\r\n Personal Finance & Money\r\n \r\n Academia\r\n \r\n \r\n \r\n more ( 8 ) \r\n \r\n \r\n \r\n \r\n \r\n \r\n English Language & Usage\r\n Skeptics\r\n Mi Yodeya ( Judaism ) \r\n Travel\r\n Christianity\r\n English Language Learners\r\n Japanese Language\r\n Arqade ( gaming ) \r\n \r\n Bicycles\r\n Role-playing Games\r\n Anime & Manga\r\n Motor Vehicle Maintenance & Repair\r\n \r\n \r\n \r\n more ( 17 ) \r\n \r\n \r\n \r\n \r\n \r\n \r\n MathOverflow\r\n Mathematics\r\n Cross Validated ( stats ) \r\n Theoretical Computer Science\r\n Physics\r\n Chemistry\r\n Biology\r\n Computer Science\r\n \r\n Philosophy\r\n \r\n \r\n \r\n more ( 3 ) \r\n \r\n \r\n \r\n \r\n \r\n \r\n Meta Stack Exchange\r\n Stack Apps\r\n Area 51\r\n Stack Overflow Talent\r\n \r\n \r\n \r\n \r\n\r\n \r\n \r\n \r\n site design / logo © 2016 Stack Exchange Inc ; user contributions licensed under cc by-sa 3.0 \r\n with attribution required\r\n \r\n \r\n rev 2016.12.9.4320\r\n \r\n \r\n \r\n \r\n Stack Overflow works best with JavaScript enabled\r\n \r\n\r\nvar p = `` http '' , d = `` static '' ; if ( document.location.protocol == `` https : '' ) { p += `` s '' ; d = `` engine '' ; } var z = document.createElement ( `` script '' ) ; z.type = `` text/javascript '' ; z.async = true ; z.src = p + `` : // '' + d + `` .adzerk.net/ados.js '' ; var s = document.getElementsByTagName ( `` script '' ) [ 0 ] ; s.parentNode.insertBefore ( z , s ) ; \r\n\r\n var ados = ados || { } ; \r\n ados.run = ados.run || [ ] ; \r\n \r\n \r\n \r\n ados.run.push ( function ( ) { \r\n setTimeout ( function ( ) { $ ( `` # adzerk-user-match '' ) .remove ( ) ; } , window.AUMIframeDone ? 0 : 2000 ) ; \r\n ados_setKeywords ( \'html , browser , timezone , timezoneoffset\ ' ) ; ; ados_load ( ) ; \r\n } ) ; \r\n \r\n\r\n\r\n \r\n ( function ( i , s , o , g , r , a , m ) { \r\n i [ \'GoogleAnalyticsObject\ ' ] = r ; i [ r ] = i [ r ] || function ( ) { ( i [ r ] .q = i [ r ] .q || [ ] ) .push ( arguments ) } , i [ r ] .l = 1 * new Date ( ) ; a = s.createElement ( o ) , \r\n m = s.getElementsByTagName ( o ) [ 0 ] ; a.async = 1 ; a.src = g ; m.parentNode.insertBefore ( a , m ) ; \r\n } ) ( window , document , \'script\ ' , \'https : //www.google-analytics.com/analytics.js\ ' , \'ga\ ' ) ; \r\n \r\n ga ( \'create\ ' , \'UA-5620270-1\ ' ) ; \r\n \r\n ga ( \'create\ ' , \'UA-5620270-59\ ' , \'auto\ ' , \'pageData\ ' ) ; \r\n \r\n ga ( \'set\ ' , \'dimension2\ ' , \'|html|browser|timezone|timezoneoffset|\ ' ) ; ga ( \'pageData.set\ ' , \'dimension2\ ' , \'|html|browser|timezone|timezoneoffset|\ ' ) ; ga ( \'send\ ' , \'pageview\ ' ) ; \r\n ga ( \'pageData.send\ ' , \'pageview\ ' ) ; \r\n\r\n var _qevents = _qevents || [ ] , \r\n _comscore = _comscore || [ ] ; \r\n ( function ( ) { \r\n var ssl=\'https : \'==document.location.protocol , \r\n s=document.getElementsByTagName ( \'script\ ' ) [ 0 ] , \r\n qc=document.createElement ( \'script\ ' ) ; \r\n qc.async = true ; \r\n qc.src = ( ssl ? \'https : //secure\ ' : \'http : //edge\ ' ) + \'.quantserve.com/quant.js\ ' ; \r\n s.parentNode.insertBefore ( qc , s ) ; \r\n _qevents.push ( { qacct : `` p-c1rF4kxgLUzNc '' } ) ; \r\n var sc=document.createElement ( \'script\ ' ) ; \r\n sc.async=true ; \r\n sc.src= ( ssl ? \'https : //sb\ ' : \'http : //b\ ' ) + \'.scorecardresearch.com/beacon.js\ ' ; \r\n s.parentNode.insertBefore ( sc , s ) ; \r\n _comscore.push ( { c1 : `` 2 '' , c2 : `` 17440561 '' } ) ; \r\n } ) ( ) ; \r\n\r\n \r\n \r\n \r\n \r\n \r\n ( function ( appendChild ) { \r\n Node.prototype.appendChild = function ( ) { \r\n var parent = this ; \r\n var newNode = arguments [ 0 ] ; \r\n if ( parent.nodeName === \'HEAD\'\r\n & & newNode\r\n & & newNode.nodeName === \'SCRIPT\'\r\n & & newNode.src ) { \r\n \r\n window.setTimeout ( function ( ) { \r\n var result = newNode.src.match ( /^https : \\/\\/maps\\.googleapis\\.com\\/maps\\/api\\/place\\/js\\/ ( \\w+ ) Service\\./i ) || [ ] ; \r\n var service = result [ 1 ] ; \r\n if ( service ) { \r\n if ( service === \'Autocompletion\ ' ) service = 2 ; \r\n else if ( service === \'Place\ ' ) service = 1 ; \r\n else service = 0 ; \r\n StackExchange.using ( \'gps\ ' , function ( ) { \r\n StackExchange.gps.track ( \'google_maps_places_api.call\ ' , { service : service } ) ; \r\n } ) ; \r\n } \r\n } , 0 ) ; \r\n } \r\n return appendChild.apply ( this , arguments ) ; \r\n } ; \r\n } ) ( Node.prototype.appendChild ) ; \r\n \r\n \r\n ' 